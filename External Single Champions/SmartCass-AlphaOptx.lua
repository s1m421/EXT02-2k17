if myHero.charName~="Cassiopeia"then return end;require"DamageLib"local a={Delay=0.655,Radius=70,Range=845,Speed=20,Collision=false}local b={Delay=0.250,Radius=200,Range=698,Speed=2500,Collision=false}local c={Delay=1,Radius=120,Range=822,Speed=1000,Collision=false}local d=MenuElement({type=MENU,id="SmartCass",name="Smart Cass",leftIcon="https://puu.sh/waBqZ/87739be05f.png"})d:MenuElement({type=MENU,id="Key",name="Key Settings"})d.Key:MenuElement({id="ComboKey",name="Combo Key[?]",key=32,tooltip="Q + Ex5 / E & Q + E*4"})d.Key:MenuElement({id="HarassKey",name="Harass Key [?]",key=67,tooltip="Q + E*3"})d.Key:MenuElement({id="LastHitKey",name="Last Hit Key [?]",key=88,tooltip="Last Hit With E"})d:MenuElement({type=MENU,id="Combo",name="Combo Settings[?]",tooltip="Two Combo Mode -> Default or Rylai"})d.Combo:MenuElement({id="Mode",name="Combo Mode",drop={"Legacy Logic","Rylai Logic"}})d.Combo:MenuElement({type=MENU,id="NoBoth",name="More Info [?]",tooltip="If you have the item 'Rylai' then enable Rylai"})d:MenuElement({type=MENU,id="LastHit",name="Last Hit Settings - Beta [?]",tooltip="X Key Disable AA to Last Hit with E"})d:MenuElement({type=MENU,id="Misc",name="Misc Settings"})d.Misc:MenuElement({id="MaxRange",name="Max Range Limiter",value=0.97,min=0.7,max=1,step=0.005})d.Misc:MenuElement({type=SPACE,id="ToolTip",name="Example: Q.Range = (850 * 0.90) = 765"})d.Misc:MenuElement({id="Debug",name="Debug Mode",value=false})d:MenuElement({type=MENU,id="Draw",name="Drawing Settings"})d.Draw:MenuElement({id="DrawQ",name="Draw Q",value=true})d.Draw:MenuElement({id="DrawE",name="Draw E",value=false})d.Draw:MenuElement({id="DrawR",name="Draw R",value=false})d.Draw:MenuElement({id="DrawTarget",name="Draw Target",value=true})local e={}function OnVision(f)if e[f.networkID]==nil then e[f.networkID]={state=f.visible,tick=GetTickCount(),pos=f.pos}end;if e[f.networkID].state==true and not f.visible then e[f.networkID].state=false;e[f.networkID].tick=GetTickCount()end;if e[f.networkID].state==false and f.visible then e[f.networkID].state=true;e[f.networkID].tick=GetTickCount()end;return e[f.networkID]end;local g={}function OnWaypoint(f)if g[f.networkID]==nil then g[f.networkID]={pos=f.posTo,speed=f.ms,time=Game.Timer()}end;if g[f.networkID].pos~=f.posTo then g[f.networkID]={startPos=f.pos,pos=f.posTo,speed=f.ms,time=Game.Timer()}DelayAction(function()local h=Game.Timer()-g[f.networkID].time;local i=GetDistance2D(g[f.networkID].startPos,f.pos)/(Game.Timer()-g[f.networkID].time)if i>1250 and h>0 and f.posTo==g[f.networkID].pos and GetDistance(f.pos,g[f.networkID].pos)>200 then g[f.networkID].speed=GetDistance2D(g[f.networkID].startPos,f.pos)/(Game.Timer()-g[f.networkID].time)end end,0.05)end;return g[f.networkID]end;local function j(f,i,k)local i=i or math.huge;local k=k or 0.25;local l=f.ms;if OnWaypoint(f).speed>l then l=OnWaypoint(f).speed end;if OnVision(f).state==false then local m=f.pos+Vector(f.pos,f.posTo):Normalized()*(GetTickCount()-OnVision(f).tick)/1000*l;local n=m+Vector(f.pos,f.posTo):Normalized()*l*(k+GetDistance(myHero.pos,m)/i)if GetDistance(f.pos,n)>GetDistance(f.pos,f.posTo)then n=f.posTo end;return n else if l>f.ms then local n=f.pos+Vector(OnWaypoint(f).startPos,f.posTo):Normalized()*l*(k+GetDistance(myHero.pos,f.pos)/i)if GetDistance(f.pos,n)>GetDistance(f.pos,f.posTo)then n=f.posTo end;return n elseif IsImmobileTarget(f)then return f.pos else return f:GetPrediction(i,k)end end end;function SDistance(o,p)return math.sqrt(math.pow(p.x-o.x,2)+math.pow(p.y-o.y,2)+math.pow(p.z-o.z,2))end;function GetBuffs(f)T={}for q=0,f.buffCount do local r=f:GetBuff(q)if r.count>0 then table.insert(T,r)end end;return T end;function ImRecalling()for s,r in pairs(GetBuffs(myHero))do if r.name=="recall"and r.duration>0 then return true end end;return false end;function Priority(t)local o={"Alistar","Amumu","Blitzcrank","Braum","Cho'Gath","Dr. Mundo","Garen","Gnar","Maokai","Hecarim","Jarvan IV","Leona","Lulu","Malphite","Nasus","Nautilus","Nunu","Olaf","Rammus","Renekton","Sejuani","Shen","Shyvana","Singed","Sion","Skarner","Taric","TahmKench","Thresh","Volibear","Warwick","MonkeyKing","Yorick","Zac","Poppy"}local p={"Aatrox","Darius","Elise","Evelynn","Galio","Gragas","Irelia","Jax","Lee Sin","Morgana","Janna","Nocturne","Pantheon","Rengar","Rumble","Swain","Trundle","Tryndamere","Udyr","Urgot","Vi","XinZhao","RekSai","Bard","Nami","Sona","Camille"}local u={"Akali","Diana","Ekko","FiddleSticks","Fiora","Gangplank","Fizz","Heimerdinger","Jayce","Kassadin","Kayle","Kha'Zix","Lissandra","Mordekaiser","Nidalee","Riven","Shaco","Vladimir","Yasuo","Zilean","Zyra","Ryze"}local v={"Ahri","Anivia","Annie","Ashe","Azir","Brand","Caitlyn","Cassiopeia","Corki","Draven","Ezreal","Graves","Jinx","Kalista","Karma","Karthus","Katarina","Kennen","KogMaw","Kindred","Leblanc","Lucian","Lux","Malzahar","MasterYi","MissFortune","Orianna","Quinn","Sivir","Syndra","Talon","Teemo","Tristana","TwistedFate","Twitch","Varus","Vayne","Veigar","Velkoz","Viktor","Xerath","Zed","Ziggs","Jhin","Soraka"}if table.contains(o,t)then return 1 end;if table.contains(p,t)then return 1.25 end;if table.contains(u,t)then return 1.75 end;return table.contains(v,t)and 2.25 or 1 end;function STarget(range,w,x)local w=w or"AD"local x=x or myHero.pos;local y={}for q=1,Game.HeroCount()do local z=Game.Hero(q)if z.isEnemy and not z.dead then OnVision(z)end;if z.isEnemy and z.valid and not z.dead and(OnVision(z).state==true or OnVision(z).state==false and GetTickCount()-OnVision(z).tick<650)and z.isTargetable then local A=z.pos;if OnVision(z).state==false then A=z.pos+Vector(z.pos,z.posTo):Normalized()*(GetTickCount()-OnVision(z).tick)/1000*z.ms end;if SDistance(x,A)<=range then if w=="AD"then y[CalcPhysicalDamage(myHero,z,100)/z.health*Priority(z.charName)]=z elseif w=="AP"then y[CalcMagicalDamage(myHero,z,100)/z.health*Priority(z.charName)]=z elseif w=="HYB"then y[(CalcMagicalDamage(myHero,z,50)+CalcPhysicalDamage(myHero,z,50))/z.health*Priority(z.charName)]=z end end end end;local B=0;for C,D in pairs(y)do if C>B then B=C end end;if B~=0 then return y[B]end end;function IsInmobileTarget(f)for q=0,f.buffCount do local E=f:GetBuff(q)if E and(E.type==5 or E.type==11 or E.type==29 or E.type==24 or E.name=="recall")and E.count>0 then return true end end;return false end;function IsSlowTarget(f)for q=0,f.buffCount do local E=f:GetBuff(q)if E and E.type==10 and E.count>0 then return true end end;return false end;function IsFearOrCharm(f)for q=0,f.buffCount do local E=f:GetBuff(q)if E and(E.type==21 or E.type==22)and E.count>0 then return true end end;return false end;function Venenitos(f)for q=0,f.buffCount do local E=f:GetBuff(q)if E and E.type==23 and E.count>5 then return true end end;return false end;function GetFarmTarget(F)local G;for H=1,Game.MinionCount()do local I=Game.Minion(H)if isValidTarget(I,F)and I.team~=myHero.team then G=I;break end end;return G end;local J={state=0,tick=GetTickCount(),casting=GetTickCount()-1000,mouse=mousePos}local function K(L,x,range,k)local range=range or math.huge;local k=k or 250;local M=GetTickCount()if J.state==0 and x:DistanceTo(myHero.pos)<range and M-J.casting>k+Game.Latency()and x:ToScreen().onScreen then J.state=1;J.mouse=mousePos;J.tick=M end;if J.state==1 then if M-J.tick<Game.Latency()then Control.SetCursorPos(x)Control.KeyDown(L)Control.KeyUp(L)J.casting=M+k;DelayAction(function()if J.state==1 then Control.SetCursorPos(J.mouse)J.state=0 end end,Game.Latency()/1000)end;if M-J.casting>Game.Latency()then Control.SetCursorPos(J.mouse)J.state=0 end end end;function greenlight()local N=STarget(a.Range*d.Misc.MaxRange:Value())if STarget==nil then return end;if N==nil then return end;if N.activeSpell.isAutoAttack or N.activeSpell.isChanneling or N.activeSpell.isCharging or N.posTo:DistanceTo()>N.pos:DistanceTo()*1.5 or N.posTo:DistanceTo()<N.pos:DistanceTo()*1.5 or IsSlowTarget(N)or IsInmobileTarget(N)or IsFearOrCharm(N)then return true else return false end end;local function CalcMagicalDamage(O,y,P)local Q=y.magicResist;local R=100/(100+Q*O.magicPenPercent-O.magicPen)if Q<0 then R=2-100/(100-Q)elseif Q*O.magicPenPercent-O.magicPen<0 then R=1 end;return R*P end;local function S(o,p)assert(o,"GetDistance: invalid argument: cannot calculate distance to "..type(o))p=p or myHero.pos;return(o.x-p.x)^2+((o.z or o.y)-(p.z or p.y))^2 end;local function GetDistance(o,p)return math.sqrt(S(o,p))end;local function U(f,range,V)V=V or myHero.pos;range=range or math.huge;return f and f.valid and not f.dead and f.visible and f.isTargetable and S(f.pos,V)<=range*range end;function GetDamage(L,f,W)if L=="E"then local X=54+myHero.levelData.lvl*4+myHero.ap*0.105;return CalcMagicalDamage(myHero,f,X)end end;Callback.Add('Tick',function()if d.Key.ComboKey:Value()and greenlight()then local Y=STarget(a.Range*d.Misc.MaxRange:Value())if Y==nil then return end;local Z=Y:GetPrediction(a.Speed,a.Delay)Draw.Circle(Z,a.Radius*2,Draw.Color(255,000,255,000))end;if d.Key.ComboKey:Value()or d.Key.HarassKey:Value()then if d.Combo.Mode:Value()==1 then local _=GOS:GetTarget(range)if _==nil then return end;local a0=_:GetPrediction(a.Speed,a.Delay)if _==nil then return end;if a0==nil then return end;if isReady(_E)and Venenitos(_)then Control.CastSpell(HK_E,_)if d.Misc.Debug:Value()then PrintChat("Legacy Combo E Regular")end end;if isReady(_E)and not isReady(_Q)then Control.CastSpell(HK_E,_)if d.Misc.Debug:Value()then PrintChat("Legacy Combo E Regular")end end;if GOS:GetTarget(range)==nil then return end;if isReady(_Q)and not Venenitos(GOS:GetTarget(range))and greenlight()then local a0=_:GetPrediction(a.Speed,a.Delay)K(HK_Q,a0,a.Range,a.Delay*1000)if d.Misc.Debug:Value()then PrintChat("Legacy Q on Greenlight")end end elseif d.Combo.Mode:Value()==2 then local _=GOS:GetTarget(range)if _==nil then return end;local a0=_:GetPrediction(a.Speed,a.Delay)if _==nil then return end;if a0==nil then return end;if isReady(_E)and not IsSlowTarget(_)then Control.CastSpell(HK_E,_)if d.Misc.Debug:Value()then PrintChat("Rylai Combo E START")end end;if isReady(_E)and(Venenitos(_)or not isReady(_Q)or not greenlight())then Control.CastSpell(HK_E,_)if d.Misc.Debug:Value()then PrintChat("Legacy Combo E Regular")end end;if isReady(_Q)and not Venenitos(_)and IsSlowTarget(_)and greenlight()then local a0=_:GetPrediction(a.Speed,a.Delay)K(HK_Q,a0,a.Range,a.Delay*1000)if d.Misc.Debug:Value()then PrintChat("Legacy Q on Greenlight")end end end end;if d.Key.ComboKey:Value()then if myHero.levelData.lvl>6 then if _G.SDK and _G.SDK.Orbwalker then _G.SDK.Orbwalker:SetAttack(false)end;GOS.BlockAttack=true end end;if isReady(_E)and d.Key.LastHitKey:Value()then if isReady(_E)then if _G.SDK and _G.SDK.Orbwalker then _G.SDK.Orbwalker:SetAttack(false)end;GOS.BlockAttack=true end;for q=1,Game.MinionCount()do local a1=Game.Minion(q)if U(a1,b.Range)and a1.isEnemy then local a2=GetDistance(myHero.pos,a1.pos)local h=0.025+a2/2500;if a2<b.Range and a1.health<GetDamage("E",a1,true)then Control.CastSpell(HK_E,a1)end end end end end)Callback.Add('Load',function()PrintChat("Smart Cassio Alpha - On Duty")end)function OnDraw()if myHero.dead then return end;if d.Draw.DrawQ:Value()then Draw.Circle(myHero.pos,a.Range*d.Misc.MaxRange:Value(),1,Draw.Color(255,255,255,255))end;if d.Draw.DrawE:Value()then Draw.Circle(myHero.pos,b.Range*d.Misc.MaxRange:Value(),1,Draw.Color(255,255,255,255))end;if d.Draw.DrawR:Value()then Draw.Circle(myHero.pos,c.Range*d.Misc.MaxRange:Value(),1,Draw.Color(255,255,255,255))end;if d.Draw.DrawTarget:Value()then local a3=STarget(a.Range)if a3 then Draw.Circle(a3.pos,80,3,Draw.Color(255,255,0,0))end end end;function isReady(a4)return myHero:GetSpellData(a4).currentCd==0 and myHero:GetSpellData(spellSlot).mana<myHero.mana and myHero:GetSpellData(a4).level>=1 end;function isValidTarget(a5,a6)return a5~=nil and a5.valid and a5.visible and not a5.dead and a5.isTargetable and a5.distance<=a6 end
